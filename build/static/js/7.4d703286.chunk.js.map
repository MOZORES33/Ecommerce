{"version":3,"sources":["Components/Auth/Signup.jsx"],"names":["Signup","_ref","setAdmin","_useState","useState","_useState2","_slicedToArray","alertaModal","setAlertaModal","_useState3","_useState4","incorrect","setIncorrect","_useState5","username","password","_useState6","body","setBody","navigate","useNavigate","inputChange","_ref2","target","name","value","_objectSpread","_defineProperty","React","createElement","className","Alerta","action","type","id","onChange","placeholder","spellCheck","concat","onClick","axios","post","timeout","then","_ref3","data","toString","localStorage","setItem","token","catch","Link","to"],"mappings":"sMAgFeA,UAzEA,SAAHC,GAAqB,IAAfC,EAAQD,EAARC,SAAQC,EACgBC,mBAAS,GAAEC,EAAAC,YAAAH,EAAA,GAA1CI,EAAWF,EAAA,GAAEG,EAAcH,EAAA,GAAAI,EACAL,oBAAS,GAAMM,EAAAJ,YAAAG,EAAA,GAA1CE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAAAG,EACNT,mBAAS,CAACU,SAAU,GAAIC,SAAU,KAAIC,EAAAV,YAAAO,EAAA,GAAvDI,EAAID,EAAA,GAAEE,EAAOF,EAAA,GACdG,EAAWC,cAEXC,EAAc,SAAHC,GAAiB,IAAZC,EAAMD,EAANC,OAClBX,GAAa,GAAM,IACZY,EAAeD,EAAfC,KAAMC,EAASF,EAATE,MACbP,EAAOQ,YAAA,GACAT,EAAIU,YAAA,GACNH,EAAOC,MA2BhB,OACIG,IAAAC,cAAA,OAAKC,UAAU,UACM,IAAhBvB,GAAqBwB,YAAOvB,EAAgB,kCAAgC,yCAA0C,EAAG,WAC1HoB,IAAAC,cAAA,OAAKC,UAAU,mBACXF,IAAAC,cAAA,OAAKC,UAAU,QACfF,IAAAC,cAAA,UAAI,uBACJD,IAAAC,cAAA,QAAMG,OAAO,IACTJ,IAAAC,cAAA,UAAI,YACJD,IAAAC,cAAA,SACII,KAAK,OACLC,GAAG,WACHV,KAAK,WACLW,SAAUd,EACVe,YAAY,YAEhBR,IAAAC,cAAA,UAAI,kBAEJD,IAAAC,cAAA,SACIL,KAAK,WACLa,WAAW,QACXJ,KAAK,WACLG,YAAY,gBACZD,SAAUd,IACdO,IAAAC,cAAA,OAAKC,UAAS,kBAAAQ,OAAoB3B,EAAW,uBAAwB,KAAM,sCAC3EiB,IAAAC,cAAA,SACII,KAAK,SACLR,MAAM,oBACNc,QAlDL,WACXC,IAAMC,KAAK,sEAAuExB,EAAM,CACpFyB,QAAS,MAEZC,KAAK,SAAAC,GAAY,IAAVC,EAAID,EAAJC,KACmB,UAApBA,EAAKC,WAIe,UAApBD,EAAKC,YAIRC,aAAaC,QAAQ,QAASH,EAAKI,OACb,UAAlBhC,EAAKH,UACLZ,GAAS,GACbiB,EAAS,MANLP,GAAa,GAJbJ,EAAe,KAYtB0C,MAAM,WACH1C,EAAe,SAiCXoB,IAAAC,cAAA,KAAGC,UAAU,aAAY,gCAAuBF,IAAAC,cAACsB,IAAI,CAACC,GAAI,aAAa","file":"static/js/7.4d703286.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\nimport './Signup.css'\r\nimport { Alerta } from '../../utils/Alerta/Alerta.jsx';\r\nimport axios from 'axios';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\n// Este componente es el inicio de sesión de usuarios de la pagina\r\nconst Signup = ({ setAdmin }) => {\r\n    const [alertaModal, setAlertaModal] = useState(0);\r\n    const [incorrect, setIncorrect] = useState(false);\r\n    const [body, setBody] = useState({username: '', password: ''});\r\n    const navigate = useNavigate();\r\n    \r\n    const inputChange = ({target}) => {\r\n        setIncorrect(false)\r\n        const {name, value} = target\r\n        setBody({\r\n            ...body,\r\n            [name]: value\r\n        })\r\n    }\r\n    \r\n    const onSubmit=()=>{\r\n        axios.post('https://apinodejsproyectofinal-production-918e.up.railway.app/login', body, {\r\n            timeout: 10000, // Tiempo máximo de 10 segundos\r\n        })\r\n        .then(({data}) => {\r\n            if(data.toString() === 'error'){\r\n                setAlertaModal(1)\r\n                return\r\n            }\r\n            if(data.toString() === 'false'){\r\n                setIncorrect(true)\r\n                return\r\n            }\r\n            localStorage.setItem('token', data.token)\r\n            if (body.username === 'admin')\r\n                setAdmin(true)\r\n            navigate(\"/\");\r\n        })\r\n        .catch(() => {\r\n            setAlertaModal(1);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className='signUp'>\r\n            {alertaModal === 1 && Alerta(setAlertaModal, 'Ocurrió un error inesperado.', 'Por favor intente nuevamente mas tarde', 1, 'Aceptar')}\r\n            <div className=\"containerSignUp\">\r\n                <div className=\"img\"/>\r\n                <h3>Inicio de sesión</h3>\r\n                <form action=\"\">\r\n                    <h6>Usuario:</h6>\r\n                    <input \r\n                        type=\"text\"  \r\n                        id=\"username\" \r\n                        name=\"username\" \r\n                        onChange={inputChange}\r\n                        placeholder=\"Usuario\"/>\r\n\r\n                    <h6>Contraseña:</h6>\r\n                    {/* Con el evento onChange llamamos a la constante getStrength cada vez que se realiza un cambio en el contenido del input */}\r\n                    <input \r\n                        name=\"password\" \r\n                        spellCheck=\"false\"\r\n                        type=\"password\" \r\n                        placeholder=\"Contraseña\"\r\n                        onChange={inputChange}/>\r\n                    <div className={`incorrectLogin ${incorrect? 'activeincorrectLogin': ''}`}>Usuario o contraseña incorrecto</div>\r\n                    <input \r\n                        type=\"button\" \r\n                        value=\"Iniciar sesión\" \r\n                        onClick={onSubmit}/>\r\n                </form>\r\n                <p className='LRegister'>¿Aún no tienes cuenta? <Link to={\"/register\"}>Registrate</Link></p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signup"],"sourceRoot":""}